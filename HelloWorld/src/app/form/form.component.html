<mat-card class="form">
  <form (ngSubmit)="onSave()" #contactForm="ngForm">
    <div>
      <mat-form-field>
        <label for="firstName"></label>
        <input matInput type="text"
               class="form-control"
               id="firstName"
               [(ngModel)]="person.firstName"
               name="firstName"
               #firstName="ngModel"
               required minlength="2"
               pattern="[a-öA-Ö]*"
               placeholder="Firstname">
        <mat-error *ngIf="firstName.invalid">
          First name is invalid.
        </mat-error>
      </mat-form-field>
    </div>
    <div *ngIf="firstName.invalid && (firstName.dirty || firstName.touched)">
      <p *ngIf="firstName.hasError('required')">Enter your first name</p>
      <p *ngIf="firstName.hasError('minlength')">Minimum 2 characters required</p>
    </div>

    <div>
      <mat-form-field>
        <label for="lastName"></label>
        <input matInput type="text"
               class="form-control"
               id="lastName"
               [(ngModel)]="person.lastName"
               name="lastName"
               #lastName="ngModel"
               required minlength="2"
               pattern="[a-öA-Ö]*"
               placeholder="Lastname">
        <mat-error *ngIf="lastName.invalid">
          Last Name is invalid.
        </mat-error>
      </mat-form-field>
    </div>
    <div *ngIf="lastName.invalid && (lastName.dirty || lastName.touched)">
      <p *ngIf="lastName.hasError('required')">Enter your last name</p>
      <p *ngIf="lastName.hasError('minlength')">Minimum 2 characters required</p>
    </div>

    <div>
      <mat-form-field>
        <label for="personID"></label>
        <input matInput type="text"
               class="form-control"
               id="personID"
               [(ngModel)]="person.personID"
               name="personID"
               #personID="ngModel"
               required minlength="11"
               pattern="^(0[1-9]|[12]\d|3[01])(0[1-9]|1[0-2])([5-9]\d\+|\d\d-|[01]\dA)\d{3}[\dA-Z]$"
               placeholder="Person ID">
        <mat-error *ngIf="personID.invalid">
          Person ID is invalid.
        </mat-error>
      </mat-form-field>
    </div>
    <div *ngIf="personID.invalid && (personID.dirty || personID.touched)">
      <p *ngIf="personID.hasError('required')">Enter your Person ID</p>
      <p *ngIf="personID.hasError('minlength')">Minimum 11 characters required</p>
    </div>

    <div>
      <mat-form-field>
        <label for="eMail"></label>
        <input matInput type="text"
               class="form-control"
               id="eMail"
               [(ngModel)]="person.eMail"
               name="eMail"
               #eMail="ngModel"
               required minlength="1"
               pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,3}$"
               placeholder="Email">
        <mat-error *ngIf="eMail.invalid">
          Email is invalid.
        </mat-error>
      </mat-form-field>
    </div>
    <div *ngIf="eMail.invalid && (eMail.dirty || eMail.touched)">
      <p *ngIf="eMail.hasError('required')">Enter your Email</p>
      <p *ngIf="eMail.hasError('minlength')">Email is invalid</p>
    </div>

    <div>
      <mat-form-field>
        <label for="userName"></label>
        <input matInput type="text"
               class="form-control"
               id="userName"
               [(ngModel)]="person.userName"
               name="userName"
               #userName="ngModel"
               required minlength="6"
               placeholder="Username">
        <mat-error *ngIf="userName.invalid">
          Username is invalid.
        </mat-error>
      </mat-form-field>
    </div>
    <div *ngIf="userName.invalid && (userName.dirty || userName.touched)">
      <p *ngIf="userName.hasError('required')">Enter your Username</p>
      <p *ngIf="userName.hasError('minlength')">Minimum 6 characters required</p>
    </div>

    <div>
      <mat-form-field>
        <label for="passWord"></label>
        <input matInput type="password"
               class="form-control"
               id="passWord"
               [(ngModel)]="person.passWord"
               name="passWord"
               #passWord="ngModel"
               required minlength="10"
               pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])[a-zA-Z0-9]+$"
               placeholder="Password">
        <!--
        ^(?=.*\d)(?=.*[a-ö])(?=.*[A-Ö])(?!.*\s).{6,12}$
        ^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])[a-zA-Z0-9]+$
        -->
        <mat-error *ngIf="passWord.invalid">
          Password is invalid.
        </mat-error>
      </mat-form-field>
    </div>
    <div *ngIf="passWord.invalid && (passWord.dirty || passWord.touched)">
      <p *ngIf="passWord.hasError('required')">Enter your password</p>
      <p *ngIf="passWord.hasError('minlength')">Minimum 10 characters required</p>
      <p *ngIf="passWord.hasError('pattern')">Password must contain a number, a capital letter and a lowercase letter</p>
    </div>

    <div>
      <mat-form-field>
        <label for="confirmPassword"></label>
        <input matInput type="password"
               class="form-control"
               id="confirmPassword"
               [(ngModel)]="person.confirmPassword"
               name="confirmPassword"
               #confirmPassword="ngModel"
               required minlength="10"
               pattern="{{passWord.value}}"
               placeholder="Confirm password">
        <mat-error *ngIf="confirmPassword.invalid">
          Password is invalid.
        </mat-error>
      </mat-form-field>
    </div>
    <div *ngIf="confirmPassword.invalid && (confirmPassword.dirty || confirmPassword.touched)">
      <p *ngIf="confirmPassword.hasError('required')">Repeat your password</p>
      <p *ngIf="confirmPassword.hasError('pattern')">Passwords does not match</p>
    </div>

    <div>
      <p>Accept terms and conditions</p>
      <label for="acceptBox"></label>
      <input type="checkbox"
             class="form-control"
             id="acceptBox"
             [(ngModel)]="person.acceptBox"
             name="acceptBox"
             #acceptBox="ngModel"
             ngModel required>
      <mat-error *ngIf="acceptBox.invalid">
      </mat-error>
    </div>
    <div *ngIf="acceptBox.invalid && (acceptBox.dirty || acceptBox.touched)">
      <p *ngIf="acceptBox.hasError('required')">Please accept terms and conditions to proceed</p>
    </div>
  </form>

  <div>
    <button mat-raised-button type="submit" class="submitButton" [disabled]="contactForm.form.invalid"
            (click)="onSave()">Submit</button>
  </div>
</mat-card>
